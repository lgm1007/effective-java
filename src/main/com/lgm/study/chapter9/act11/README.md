# 최적화는 신중히 하라
    "최적화를 할 때는 다음 두 규칙을 따르라.
    첫 번째, 하지 마라.
    두 번째, (전문가 한정) 아직 하지 마라. 다시 말해 완전히 명백하고 최적화된 해법을 찾을 때까지는 하지 마라"
    - M. A. 잭슨
### 빠른 프로그램보다는 좋은 프로그램이 좋다
* 성능 때문에 견고한 구조를 희생하지 말아야 함
* 좋은 프로그램이지만 원하는 성능이 나오지 않는다면 그 아키텍처 자체가 최적화할 수 있는 길을 안내해줄 것
* 프로그램 완성까지 성능을 무시하라는 말은 아님
  * 설계 단계에서 성능을 반드시 염두에 두어야 함
### 성능을 제한하는 설계를 피하라
* 완성 후 변경하기가 가장 어려운 설계 요소는 컴포넌트끼리, 혹은 외부 시스템과의 소통 방식임
### API를 설계할 때 성능에 주는 영향을 고려하라
* public 타입을 가변으로 만들면, 불필요한 방어적 복사를 유발할 수 있음
* 합성으로 해결할 수 있는 문제를 상속 방식으로 해결하면 상위클래스에 영원히 종속되어 그 성능 제약까지 물려받게 됨
### 결론
* 빠른 프로그램을 작성하려 안달하지 말자.
* 좋은 프로그램을 작성하다 보면 성능은 따라오기 마련이다.
* 시스템을 설계할 때, 특히 API, 네트워크 프로토콜, 영구 저장용 데이터 포맷을 설계할 때는 성능에 염려를 두어야 한다.
* 시스템 구현을 완료했다면 성능을 측정해보자. 충분히 빠르면 그걸로 끝이고, 그렇지 않다면 프로파일러를 사용해 문제의 원인이 되는 지점을 찾아 최적화를 수행하라.
* 가장 먼저 어떤 알고리즘을 사용했는지 살펴보자. 알고리즘을 잘못 골랐다면 다른 저수준 최적화는 아무리 해봐야 소용없다.
* 만족할 때까지 그 과정을 반복하고, 모든 변경 후에는 성능을 측정하라.
---
[[Prev act >>]](../act10/README.md)  
[[Next act >>]](../act12/README.md)