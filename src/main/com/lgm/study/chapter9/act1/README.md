# 지역변수의 범위를 최소화하라
### 지역변수 선언과 초기화
* **거의 모든 지역변수는 선언과 동시에 초기화**해야 함
    * 초기화에 필요한 정보가 충분하지 않다면 충분해질 때까지 미룸
    * try-catch 문은 이 규칙에서 예외
        * 변수를 초기화하는 표현식에서 검사 예외를 던질 가능성이 있다면 try 블록 안에서 초기화해야 함
    * 변수 값을 try 블록 밖에서도 사용해야 한다면 try 블록 앞에서 선언해야 함
### 반복문의 지역변수
* for 문 형태든 for-each 형태든, 반복문에서 반복 변수의 범위가 반복문의 몸체, 그리고 for 키워드와 몸체 사이의 괄호 안으로 제한됨
* 반복 변수의 값을 반복이 종료된 후에도 써야 하는 상황이 아니라면, while 보다는 for 문을 사용함
```java
Iterator<Element> i = c.iterator();  // 불필요함
while (i.hasNext()) {
	// ...
}
```
* while 문을 사용하면 반복문 밖에 불필요한 변수가 선언됨
```java
for (Iterator<Element> i = c.iterator(); i.hasNext();) {
	Element e = i.next();
	// ...
}
```
* for 문은 반복 변수의 범위가 for 문 내부로 제한됨
    * 따라서, 똑같은 이름의 변수를 여러 반복문에서 사용해도 아무 영향 없음
### for문 캐싱
```java
for(int i = 0, n = expensiveComputation(); i < n; i++) {
	// ...
}
```
* 위 코드는 반복 변수 i의 한계값을 변수 n에 저장하여 반복 때마다 다시 계산해야 하는 비용을 없앰
* 같은 값을 반환하는 메서드를 매번 호출한다면 이 관용구를 사용해도 좋음
### 메서드와 지역변수
* 지역변수의 범위를 줄이는 또 하나의 방법 = 메서드를 작게 유지하고 한 가지 기능에 집중하는 것
* 여러 기능을 처리하게 되면 다른 기능을 수행하는 코드에서 접근할 가능성이 있음
    * 메서드를 기능별로 나누면 해결됨
### 결론
* try-catch 문을 제외한 대부분의 지역변수는 선언과 동시에 초기화하도록 한다.
* 반복 변수의 값을 반복이 완료된 후에도 사용해야 하는 경우가 아니라면 while 문 보다는 for 문을 사용한다.
* 메서드는 되도록이면 작게 유지하고 한 가지 기능만 작동하도록 한다.
---
[[Prev act >>]](../../chapter8/act8/README.md)  
[[Next act >>]](../act2/README.md)