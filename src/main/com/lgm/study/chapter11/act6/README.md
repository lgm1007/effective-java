# 지연 초기화는 신중히 사용하라
### 지연 초기화
* 필드의 초기화 시점을 그 값이 처음 필요할 때까지 늦추는 기법
* 지연 초기화는 **최적화 용도**로 쓰임
* 클래스와 인스턴스 초기화할 때 발생하는 위험한 **순환 문제**를 해결하는 효과도 있음
* 적용 대상
  * 정적 필드
  * 인스턴스 필드
### 지연 초기화
* 클래스, 인스턴스 생성시의 **초기화 비용은 줄지만**, 지연 초기화하는 **필드에 접근하는 비용**은 커짐
* 지연 초기화하려는 필드들 중 초기화가 이뤄지는 비율에 따라, 실제 초기화에 드는 비용에 따라, 초기화된 각 필드를 얼마나 빈번히 호출하느냐에 따라 지연 초기화가 실제로 성능을 느려지게 할 수도 있음
### 지연 초기화가 필요한 경우
* 해당 클래스의 인스턴스 중 그 **필드를 사용하는 인스턴스의 비율이 낮은** 반면, 그 필드를 **초기화하는 비용이 큰 경우**
* 위 효과를 확인하기 위해서는 지연 초기화 작용 전후의 성능을 측정해봐야 함
### 멀티 스레드 환경의 지연 초기화
* 멀티스레드 환경에서 지연 초기화를 하기 힘듦
* 지연 초기화하는 필드를 둘 이상의 스레드가 공유한다면 반드시 동기화를 해야 함
### 결론
* 대부분의 필드는 지연시키지 말고 곧바로 초기화해야 한다.
* 성능 때문이나 위험한 초기화 순환을 막기 위해 꼭 지연 초기화를 사용해야 하는 경우 올바른 지연 초기화 기법을 사용해야 한다.
---
[[Prev act >>]](../act5/README.md)  
[[Next act >>]](../act7/README.md)