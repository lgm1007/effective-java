# 프로그램의 동작을 스레드 스케줄러에 기대지 말라
### 스레드 스케줄러
* 여러 스레드가 실행중이면 운영체제의 스레드 스케줄러가 어떤 스레드를 얼마나 오래 실행할지 정함
* 정확성이나 성능이 스레드 스케줄러에 따라 달라지는 프로그램이라면 다른 플랫폼에 이식하기 쉬움
### 이식성이 좋은 프로그램 작성
* **실행 가능한 스레드의 평균적인 수를 프로세서 수보다 지나치게 많아지지 않도록** 할 것
* 전체 스레드 수 = 대기중인 스레드 수(실행 가능하지 않은 스레드 수) + 실행중인 스레드 수
### 이식성이 나쁜 코드
* **Thread.yield**
  * Thread.yield를 써서 문제를 고쳐보려 하지 않음
  * Thread.yield는 테스트할 수단이 없음
* 차라리 애플리케이션 구조를 바꿔서 동시에 실행 가능한 스레드 수가 적어지도록 조치할 것
### Thread Priority
* 스레드 우선순의는 자바에서 이식성이 가장 나쁜 특성에 속함
* 심각한 응답 불가 문제를 스레드 우선순위로 해결하려는 시도는 절대 합리적이지 않음
### 결론
* 프로그램의 동작을 스레드 스케줄러에 기대면 견고성과 이식성을 모두 해친다.
* Thread.yield와 Thread Priority에 의존해선 안 된다.
* Thread Priority는 이미 잘 동작하는 프로그램의 서비스 품질을 높이기 위해 드물게 쓰일 수 있지만, 간신히 동작하는 프로그램을 **고치는 용도**로 사용해선 절대 안 된다.
---
[[Prev act >>]](../act6/README.md)  
[[Next act >>]](../../chapter12/act1/README.md)